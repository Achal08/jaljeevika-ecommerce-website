<!DOCTYPE html>
<html lang="en">
<head>
  <title>Jaljeevika</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <link href="/css/style.css" rel="stylesheet" type="text/css">

</head>

<body onload="filterSelection('1')" style="font-family:candara">

  <script>
    const showResults = (data) => {
      let displayString = '';
      if(data.length === 0){
        displayString += `<li class="list-group-item">No results</li>`;
      } else{
        data.forEach(product => {
          //console.log(product);
          //console.log(product._id);
          displayString += `<li class="row list-group-item">
                              <span style=""><a href="/products/${product._id}"> ${product.name}</a></span> 
                            </li>`;
        });
      }
      $('#results-display').html(displayString);
    }
    const searchProduct = (e) => {
      console.log(e.value);
      if(e.value === ''){
        $('#results-display').html(''); 
      }else{
        $("#results").html(e.value)
        $.get(`/api/main/search?text=${e.value}`, (data, status) => {
          showResults(data);
        })
      }
    }
  </script>
<!-------header part----------->

<div class="container-fluid">
  <div class="row">
    <div class="col-sm-3">
     <img src="/images/logo.jpg" id="logo"></div>
     <div class="col-sm-6">
      <a href="/dashboard"><button type="button" class="btn btn-default" id="home">HOME</button></a>
      <a href="/aboutus"><button type="button" class="btn btn-default" id="about">ABOUT US</button></a>
      <a href="/services"><button type="button" class="btn btn-default" id="services">SERVICES</button></a>
      <a href="/contactus"><button type="button" class="btn btn-default" id="contact">CONTACT US</button></a>
      
<!------------------------------------------------------------------------>
    </div>
        
        <div class="col-sm-3">
            <a href="/users/logout"><button id="logout"><i class='fas fa-user-alt'></i>Logout</button></a>
        </div>
    </div>

    <p id="space"></p>
    <!----------for spacing------------------------------------>


<!----------------CAROUSEL--------------------------------------------------------------------------->
<div id="car" class="carousel slide" data-ride="carousel">
  <ul class="carousel-indicators">
    <li data-target="#car" data-slide-to="0" class="active"></li>
    <li data-target="#car" data-slide-to="1"></li>
    <li data-target="#dcar" data-slide-to="2"></li>
  </ul>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="/images/carousel2.jpg" height="300">
      <div class="carousel-caption">
        <h3>Welcome to Jaljeevika</h3>
        <p>WE ARE AT YOUR SERVICE</p>
      </div>   
    </div>
    <div class="carousel-item">
      <img src="/images/carousel1.jpg" height="300">
      <div class="carousel-caption">
        <h3>Welcome to Jaljeevika</h3>
        <p>WE ARE AT YOUR SERVICE</p>
      </div>   
    </div>
    <div class="carousel-item">
      <img src="/images/carousel3.jpg" height="300"> 
      <div class="carousel-caption">
       <h3>Welcome to Jaljeevika</h3>
        <p>WE ARE AT YOUR SERVICE</p>
      </div>   
    </div>
  </div>
  <a class="carousel-control-prev" href="#car" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#car" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>
</div>

<!-----------------Main - BODY------------------------------------------------------------------------------------->

<div class="row">
  <div class="col-sm-3"></div>
  <div class="col-sm-6">
 <p id="space"></p>
      <div class="dropdown">
     <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" style="margin-left: 20px">Category</button>
    <div class="dropdown-menu">
      <a class="dropdown-item"  onclick="filterSelection('feed')">Feed</a>
      <a class="dropdown-item"  onclick="filterSelection('healthcare')">HealthCare</a>
      <a class="dropdown-item" onclick="filterSelection('aquacutureequipment')">Aquaculture Equipments</a>
      <a class="dropdown-item"  onclick="filterSelection('toolkit')">Ornamental fish purpose Toolkit</a>
    </div>
     </div>
     <!--------------search bar in header------------------------------------->
    <div class="col-10 col-sm-6">
      <input class="form-control" oninput="searchProduct(this);" id="search-product" style="margin-left: 130px; margin-top:-38px; width: 400px;" type="text" placeholder="Search Products here..."/>
    </div>
    <div class="row">
      <div class="col-2 col-sm-1"></div>
      <div class="col-10 col-sm-11 p-2">
        <ul class="list-group" id="results-display"></ul>
      </div>
    </div>
    

</div><div class="col-sm-3"></div>
</div>
<p id="space"></p>
<div class="row">



<!------------------DROPDOWN FOR COMPANIES------------------------------------------------------------------->
<div class="col-sm-4">
<button type="button" class="btn btn-success btn-lg" id="comp">COMPANY</button>
 <ul class="list-group" id="comp_list">
    <li class="list-group-item" onclick="filterSelection('BMR')" style="height:70px">BMR Industries Pvt.Ltd.</li>
    <li class="list-group-item" onclick="filterSelection('Cargill')" style="height:70px">Cargill India Pvt. Ltd.</li>
    <li class="list-group-item" onclick="filterSelection('Doctor')" style="height:70px">Doctor's Vet -Pharma Pvt.Ltd.</li>
    <li class="list-group-item" onclick="filterSelection('Apple')" style="height:70px">APPLE Biotechnologies</li>
    <li class="list-group-item" onclick="filterSelection('SRR')" style="height:70px">SRR AQUA SUPPLIERS</li>
    <li class="list-group-item" onclick="filterSelection('Arun')" style="height:70px">ARUN AQUCULTURE</li>
    <li class="list-group-item" onclick="filterSelection('Aquarium')" style="height:70px">MadOverFish Aquarium & Water Arts Pvt.ltd</li>
   </ul>
   <p id="space3"></p>
</div>

<!--------------------PRODUCTS----------------------------------------------------------------------------------------->
<div class="col-sm-8">
<div class="main">
<div class="row" id="row">

<!-----------------------------product1------------------------------------->
<% products.forEach(product => { %>
  <div class="column BMR feed 1 harvest1">
    <div class="content">
      <a href="/products/<%= product._id %>"> <img src="/images/<%= product.imgurl %>.jpg" style="width:100%"  id="p1"></a>
      <h4><center><%= product.name %></center></h4>
      <p><center><%= product.vendorname %></center></p>
    </div>
  </div>
<% }) %>



</div>  <!--------div id == main ---------->
</div>
</div><!-----row-1st-------->
<!------------------------------------------------------------------------------->
</div><!----container--------->


<!-----------------------pagination------------------------------------------------>
<!-- <div class="row">
  <div class="col-sm-6"></div>
  <div class="col-sm-6">
  <center><ul class="pagination">
    <li class="page-item"><a class="page-link"  onclick="filterSelection('1')" >1</a></li>
    <li class="page-item"><a class="page-link"  onclick="filterSelection('2')" >2</a></li>
    <li class="page-item"><a class="page-link"  onclick="filterSelection('3')" >3</a></li>
    <li class="page-item disabled"><a class="page-link"  onclick="filterSelection('4')" >4</a></li>
    <li class="page-item disabled"><a class="page-link"  onclick="filterSelection('5')" >5</a></li>
  </ul></center></div>
</div><hr> -->
<!-------------------------------------------------------------------------------------->


<!-----------------------------About us ------------------------------------------------->

<div class="row" id="aboutus" style="background-image: url('/images/b2.jpeg')">
  <div class="col-sm-1">
  </div>
  <div class="col-sm-10">
 <center><div id="heading"><b>ABOUT US</b></div></center>
    <center><div id="heading" style="font-size: 30px"><b>OUR VISSION</b></div>
   <b> "Enhancing human capability and ensuring wellbeing through knowledge transfer, empowerment and collective process."</b>
    <div id="heading" style="font-size: 30px"><b>OUR AIM</b></div>
    <b>"Reduce vulnerability, build resilience and empower the community through strengthening aquatic-based livelihood opportunities."</b>
   <div id="heading" style="font-size: 25px"><b> WHO ARE WE?</b></div></center>
   <div class="row">
    <div class="col-sm-6">
   <div id="about"> Centre for Aquatic livelihood Jaljeevika is a registered non-profit organisation under section (8) company act.
    We started our journey in the year 2013 to promote livelihood potential in rural India through interventions in aquatic livelihood sector.
    We are committed to the promotion of aquatic livelihood through better resource management, institution building, technology transfer, access to credit, inputs, markets and support in developing end to end value chains towards enhancing livelihood opportunities, securing food and nutritional security in rural India.<br><br>
   <i class="far fa-calendar-check"></i>&nbsp &nbsp One of the founder members to establish a National platform for small scale &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  fish worker.<br>
   <i class="far fa-calendar-check" ></i>&nbsp &nbsp Transforming as Open source fisheries platform to promote numbers of social &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  enterprises around the fisheries value chain.<br>
   <i class="far fa-calendar-check"></i>&nbsp &nbsp  IT-based support services to ensure link better performing fish farmers &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp through credit agency</i><br>
   <i class="far fa-calendar-check"></i>&nbsp &nbsp Enable farmers to learn affordable and sustainable aquatic farming practices.<br><br>
   <i class="far fa-calendar-check"></i>&nbsp &nbsp  Setting up sectoral development AquaFund to leverage the existing potential &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp of CSR,Private sector,etc.</div></div>
   <div class="col-sm-6"><p id="space2"></p><img src="/images/jaljeevak.jpg" style="height:300px;width:600px"></div>
   </div>

  </div>
  <div class="col-sm-1">
  </div>
</div><!------------ROW--------------->

<!-------------------------------------------------------------------------------------------->

<!-------------------------------------------------------------------------------------------->

<!------------------------------------------------------------------------------------------>
<script>
    
    $(document).ready(function(){
        $("#comp").click(function(){
        $("#comp_list").slideToggle("slow");
        });
    });
    
    
    
    //For search bar filtering
    $(document).ready(function(){
        $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $(".dropdown-menu li").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
        });
        });
    
    //For dropdown items selection
    $(document).ready(function()
        {
        $(".dropdown-menu li").click(function()
        {
        var t=$(this).val();
        $("#myInput").val($(this).text());
        });
        });
    
    
    
    //JS CODE FOR PRODUCT FILTERING (MOST IMPORTANT)
    filterSelection("allproduct")
    function filterSelection(c) {
        var x, i;
        x = document.getElementsByClassName("column");
        if (c == "allproduct") c = "";
        for (i = 0; i < x.length; i++) {
        w3RemoveClass(x[i], "show");
        if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
        }
    }
    
    function w3AddClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
        if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
        }
    }
    
    function w3RemoveClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
        while (arr1.indexOf(arr2[i]) > -1) {
            arr1.splice(arr1.indexOf(arr2[i]), 1);     
        }
        }
        element.className = arr1.join(" ");
    }
    //until here

   
</script>
</body>
</html>